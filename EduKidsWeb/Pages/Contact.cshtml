@page
@model EduKidsWeb.Pages.ContactModel
@{
    ViewData["Title"] = "Contact Us";
}

<style>
    .error-message {
        display: none;
        color: hsl(var(--er));
        font-size: 0.875rem;
        margin-top: 0.25rem;
    }

    .success-message {
        display: none;
        color: hsl(var(--su));
        font-size: 0.875rem;
        margin-top: 0.25rem;
    }

    /* Server-side validation - show ASP.NET validation messages */
    .field-validation-error {
        display: block !important;
        color: hsl(var(--er));
        font-size: 0.875rem;
        margin-top: 0.25rem;
    }

    .field-validation-valid {
        display: none;
    }

    /* Client-side validation */
    .validate .error-message {
        display: block;
    }

    .validate .success-message {
        display: none;
    }

    .validate input:valid+.error-message,
    .validate textarea:valid+.error-message,
    .validate select:valid+.error-message {
        display: none;
    }

    .validate input:valid+.error-message+.success-message,
    .validate textarea:valid+.error-message+.success-message,
    .validate select:valid+.error-message+.success-message {
        display: block;
    }

    .validate input:invalid,
    .validate textarea:invalid,
    .validate select:invalid {
        border-color: hsl(var(--er));
    }

    .validate input:valid,
    .validate textarea:valid,
    .validate select:valid {
        border-color: hsl(var(--su));
    }

    /* Server-side validation styling */
    .input-validation-error {
        border-color: hsl(var(--er)) !important;
    }
</style>

<!-- Hero Section -->
<section class="relative bg-orange-400 overflow-hidden py-16 lg:py-24">
    <!-- Decorative Elements -->
    <div class="absolute inset-0">
        <!-- Paper plane icon -->
        <div class="absolute top-12 left-8 lg:left-16">
            <div class="w-16 h-16 opacity-20">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="w-full h-full text-white">
                    <path d="m3 3 3 9-3 9 19-9Z"></path>
                    <path d="m6 12 16-6"></path>
                </svg>
            </div>
        </div>

        <!-- Hot air balloon -->
        <div class="absolute top-8 right-8 lg:right-16">
            <div class="w-20 h-20 opacity-20">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="w-full h-full text-white">
                    <path d="M12 13v8"></path>
                    <path d="M12 3a3 3 0 0 0-3 3v4a3 3 0 0 0 6 0V6a3 3 0 0 0-3-3Z"></path>
                    <path d="m8 17 8 2-8 2"></path>
                </svg>
            </div>
        </div>

        <!-- Stars decoration -->
        <div class="absolute top-20 left-1/4">
            <div class="w-8 h-8 opacity-20">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="w-full h-full text-white">
                    <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"></polygon>
                </svg>
            </div>
        </div>

        <!-- Airplane -->
        <div class="absolute top-32 right-1/4">
            <div class="w-12 h-12 opacity-20">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="w-full h-full text-white">
                    <path d="M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"></path>
                </svg>
            </div>
        </div>

        <!-- Sun icon -->
        <div class="absolute bottom-16 left-16">
            <div class="w-10 h-10 opacity-20">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="w-full h-full text-white">
                    <circle cx="12" cy="12" r="4"></circle>
                    <path d="m12 2 0 2"></path>
                    <path d="m12 20 0 2"></path>
                    <path d="m4.93 4.93 1.41 1.41"></path>
                    <path d="m17.66 17.66 1.41 1.41"></path>
                    <path d="m2 12 2 0"></path>
                    <path d="m20 12 2 0"></path>
                    <path d="m6.34 17.66-1.41 1.41"></path>
                    <path d="m19.07 4.93-1.41 1.41"></path>
                </svg>
            </div>
        </div>
    </div>

    <!-- Wave decoration at bottom -->
    <div class="absolute bottom-0 left-0 w-full">
        <svg viewBox="0 0 1440 74" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto">
            <path d="M0 74V0C120 24.6667 240 37 360 37C480 37 600 24.6667 720 0C840 24.6667 960 37 1080 37C1200 37 1320 24.6667 1440 0V74H0Z" fill="white" />
        </svg>
    </div>

    <div class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="text-center">
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4">
                Contact Us
            </h1>

            <!-- Breadcrumb -->
            <nav class="flex justify-center items-center gap-2 text-white/90">
                <a href="@Url.Page("/Index")" class="hover:text-white transition-colors duration-200 font-medium">
                    Home
                </a>
                <span class="icon-[tabler--chevron-right] size-4"></span>
                <span class="font-medium text-white">Contact Us</span>
            </nav>
        </div>
    </div>
</section>

<!-- Contact Section -->
<section class="py-16 lg:py-24 bg-gray-50">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="grid lg:grid-cols-2 gap-12 lg:gap-16">
            <!-- Contact Information Card -->
            <div class="bg-orange-400 rounded-2xl p-8 lg:p-10 text-white relative overflow-hidden">
                <!-- Decorative elements in card -->
                <div class="absolute top-4 right-4 w-16 h-16 opacity-10">
                    <span class="icon-[tabler--phone] size-16"></span>
                </div>

                <div class="relative z-10">
                    <h3 class="text-2xl lg:text-3xl font-bold mb-2">Call Us 7/24</h3>
                    <p class="text-lg font-semibold mb-8">+8801318446040</p>

                    <div class="space-y-6">
                        <!-- Email -->
                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                <span class="icon-[tabler--mail] text-white size-5"></span>
                            </div>
                            <div>
                                <h4 class="font-semibold text-lg mb-1">Make a Quote</h4>
                                <p class="text-white/90">contact@edukidsint.com</p>
                            </div>
                        </div>

                        <!-- Location -->
                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                <span class="icon-[tabler--map-pin] text-white size-5"></span>
                            </div>
                            <div>
                                <h4 class="font-semibold text-lg mb-1">Location</h4>
                                <p class="text-white/90">210/KHA New Elephant Road, Dhaka 1205, Bangladesh</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Contact Map -->
                <div class="mt-8">
                    <div class="w-full h-48 bg-gray-100 rounded-lg overflow-hidden">
                        <!-- Sample Map SVG -->
                        <svg viewBox="0 0 300 200" class="w-full h-full">
                            <!-- Background -->
                            <rect width="300" height="200" fill="#F3F4F6" />

                            <!-- Roads -->
                            <line x1="0" y1="100" x2="300" y2="100" stroke="#E5E7EB" stroke-width="8" />
                            <line x1="150" y1="0" x2="150" y2="200" stroke="#E5E7EB" stroke-width="6" />
                            <line x1="0" y1="60" x2="300" y2="60" stroke="#E5E7EB" stroke-width="4" />
                            <line x1="0" y1="140" x2="300" y2="140" stroke="#E5E7EB" stroke-width="4" />
                            <line x1="80" y1="0" x2="80" y2="200" stroke="#E5E7EB" stroke-width="3" />
                            <line x1="220" y1="0" x2="220" y2="200" stroke="#E5E7EB" stroke-width="3" />

                            <!-- Buildings -->
                            <rect x="40" y="20" width="30" height="25" fill="#D1D5DB" rx="2" />
                            <rect x="100" y="15" width="25" height="35" fill="#D1D5DB" rx="2" />
                            <rect x="200" y="25" width="35" height="20" fill="#D1D5DB" rx="2" />
                            <rect x="260" y="20" width="20" height="30" fill="#D1D5DB" rx="2" />

                            <rect x="20" y="120" width="40" height="30" fill="#D1D5DB" rx="2" />
                            <rect x="180" y="115" width="30" height="35" fill="#D1D5DB" rx="2" />
                            <rect x="240" y="125" width="25" height="25" fill="#D1D5DB" rx="2" />

                            <!-- Green areas -->
                            <circle cx="50" cy="170" r="15" fill="#86EFAC" />
                            <circle cx="250" cy="30" r="12" fill="#86EFAC" />

                            <!-- School location marker -->
                            <circle cx="150" cy="100" r="8" fill="#F97316" />
                            <circle cx="150" cy="100" r="12" fill="#F97316" opacity="0.3" />
                            <circle cx="150" cy="100" r="16" fill="#F97316" opacity="0.2" />

                            <!-- School building -->
                            <rect x="140" y="90" width="20" height="15" fill="#F97316" rx="2" />
                            <rect x="142" y="92" width="16" height="11" fill="#FFFFFF" rx="1" />
                            <ellipse cx="150" cy="90" rx="8" ry="4" fill="#10B981" />

                            <!-- Location pin -->
                            <path d="M150 85 L146 76 Q150 72 154 76 L150 85 Z" fill="#EF4444" />
                            <circle cx="150" cy="78" r="2" fill="#FFFFFF" />

                            <!-- Street names -->
                            <text x="10" y="95" font-family="Arial" font-size="8" fill="#6B7280">New Elephant Road</text>
                            <text x="155" y="95" font-family="Arial" font-size="6" fill="#6B7280" transform="rotate(90 155 95)">Dhanmondi</text>
                            <text x="10" y="55" font-family="Arial" font-size="6" fill="#6B7280">Mirpur Road</text>

                            <!-- Compass -->
                            <circle cx="270" cy="30" r="12" fill="#FFFFFF" stroke="#E5E7EB" stroke-width="1" />
                            <text x="270" y="25" font-family="Arial" font-size="6" fill="#374151" text-anchor="middle">N</text>
                            <line x1="270" y1="22" x2="270" y2="28" stroke="#374151" stroke-width="1" />
                            <polygon points="270,22 268,26 272,26" fill="#374151" />

                            <!-- School label -->
                            <rect x="105" y="50" width="90" height="16" fill="#FFFFFF" stroke="#E5E7EB" stroke-width="1" rx="8" />
                            <text x="150" y="60" font-family="Arial" font-size="8" fill="#F97316" text-anchor="middle" font-weight="bold">EduKids International</text>
                            <line x1="150" y1="66" x2="150" y2="85" stroke="#F97316" stroke-width="1" />
                        </svg>
                    </div>
                    <div class="mt-2 text-center text-sm text-white/80">
                        📍 210/KHA New Elephant Road, Dhaka 1205
                    </div>
                </div>
            </div>

            <!-- Contact Form -->
            <div class="bg-white rounded-2xl p-8 lg:p-10 shadow-lg">
                <h3 class="text-2xl lg:text-3xl font-bold text-gray-800 mb-2">Ready To Get Started?</h3>
                <p class="text-gray-600 mb-8">
                    Nullam varius, erat quis iaculis dictum, eros urna varius eros, ut blandit felis odio in
                    turpis. Quisque rhoncus, eros in auctor ultrices.
                </p>

                <!-- Success/Error Messages -->
                @if (!string.IsNullOrEmpty(Model.SuccessMessage))
                {
                    <div class="alert alert-success mb-6">
                        <span class="icon-[tabler--check] size-5"></span>
                        <span>@Model.SuccessMessage</span>
                    </div>
                }

                @if (!string.IsNullOrEmpty(Model.ErrorMessage))
                {
                    <div class="alert alert-error mb-6">
                        <span class="icon-[tabler--x] size-5"></span>
                        <span>@Model.ErrorMessage</span>
                    </div>
                }

                <form class="needs-validation space-y-6" novalidate method="post">
                    @Html.AntiForgeryToken()

                    <div class="grid md:grid-cols-2 gap-6">
                        <!-- Full Name -->
                        <div>
                            <label class="label-text font-medium text-gray-700 mb-2 block" asp-for="FullName">Your Name*</label>
                            <input asp-for="FullName" placeholder="Your Name" class="input input-bordered w-full bg-gray-50 border-gray-200 focus:border-orange-400 focus:ring-orange-400" />
                            <span asp-validation-for="FullName" class="error-message"></span>
                            <span class="error-message">Please enter your full name.</span>
                            <span class="success-message">Looks good!</span>
                        </div>

                        <!-- Email -->
                        <div>
                            <label class="label-text font-medium text-gray-700 mb-2 block" asp-for="Email">Your Email*</label>
                            <input asp-for="Email" placeholder="Your Email" class="input input-bordered w-full bg-gray-50 border-gray-200 focus:border-orange-400 focus:ring-orange-400" />
                            <span asp-validation-for="Email" class="error-message"></span>
                            <span class="error-message">Please enter a valid email address.</span>
                            <span class="success-message">Looks good!</span>
                        </div>
                    </div>

                    <!-- Phone -->
                    <div>
                        <label class="label-text font-medium text-gray-700 mb-2 block" asp-for="Phone">Your Phone*</label>
                        <input asp-for="Phone" placeholder="Your Phone" class="input input-bordered w-full bg-gray-50 border-gray-200 focus:border-orange-400 focus:ring-orange-400" />
                        <span asp-validation-for="Phone" class="error-message"></span>
                        <span class="error-message">Please enter a valid phone number.</span>
                        <span class="success-message">Looks good!</span>
                    </div>

                    <!-- Message -->
                    <div>
                        <label class="label-text font-medium text-gray-700 mb-2 block" asp-for="Message">Write Message*</label>
                        <textarea asp-for="Message" placeholder="Write Message" rows="5" class="textarea textarea-bordered w-full bg-gray-50 border-gray-200 focus:border-orange-400 focus:ring-orange-400 resize-none"></textarea>
                        <span asp-validation-for="Message" class="error-message"></span>
                        <span class="error-message">Please enter a message with at least 10 characters.</span>
                        <span class="success-message">Looks good!</span>
                    </div>

                    <!-- Submit Button -->
                    <div>
                        <button type="submit" class="btn bg-orange-400 hover:bg-orange-500 text-white border-none px-8 py-3 rounded-lg font-semibold transition-colors duration-200 flex items-center gap-2">
                            Send Message
                            <span class="icon-[tabler--arrow-right] size-5"></span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Fetch all the forms we want to apply custom validation styles to
        const forms = document.querySelectorAll('.needs-validation')

        // Loop over them and prevent submission if invalid
        Array.from(forms).forEach(form => {
            form.addEventListener(
                'submit',
                event => {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                        // Find the first invalid input field and set focus to it
                        const firstInvalidElement = form.querySelector(':invalid')
                        if (firstInvalidElement) {
                            firstInvalidElement.focus()
                        }
                    }
                    form.classList.add('validate')
                },
                false
            )
        })
    })
</script>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}